
%Skrypt testuj¹cy analizê twarzy (faceAnalysis).

clear;

%œcie¿ki:
dirPath = 'dat\analysisTest\';
fileNames = {...
    'cara7_frontal2_pre.txt', ...
    'cara18_abajo_pre.txt' , ...
    'cara19_f2_pre.txt' , ...
    'cara27_abajo_pre.txt' , ...
    'cara28_f1_pre.txt' , ...
    ...
    'cara42_f1_pre.txt' , ...
    'cara52_f1_pre.txt' , ...
    'cara54_risa_pre.txt' , ...
    'cara56_f1_pre.txt' , ...
    'cara60_f1_pre.txt', ...
    ...
    'cara30_f1_pre.txt',...
    'cara31_arriba_pre.txt',...
    'cara32_abajo_pre.txt',...
    'cara33_gesto.txt',...
    'cara34_f1_pre.txt', ...
    ...
    '20090622_134437.txt',...
    '20090622_134536.txt',...
    '20090622_134644.txt',...
    '20090622_135254.txt',...
    '20090622_135629.txt',...
    ...
    'cara1_derecha.txt',...
    'cara1_izquierda.txt',...
    'cara2_derecha.txt',...
    'cara2_izquierda.txt',...
    'cara3_derecha.txt',...
    };

%wszystkie punkty:
nosePts = [... %prn nasion lal ral subnaasale
1.65 -41.05 -1115.83     	-0.99 -1.67 -1138.4399     -13.38 -44.97 -1132.6899  	18.45 -43.41 -1135.39   	1.68 -60.08 -1134.77
11.11 -66.38 -931.8      	11.13 -34.61 -933.27       -2.8 -65.6 -941 	  	23.83 -65.61 -941.14    	9.83 -79.64 -942.03	
35.14 -9.54 -1079.33     	36.02 26.09 -1107.99       16.23 -19.39 -1097.85 	51.87 -17.75 -1096.27   	34.01  -27.41  -1095.29
6.75 -53.71 -1142.4301   	6.82 -16.96 -1155.75       -5.11 -57.77 -1157.02     	17.89 -56.77 -1157.02   	6.86 -69.96 -1162.27
30.05  -20.47  -1068.05   	28.98  17.64  -1088.38     12.92  -24.12  -1092.27 	48.38  -22.48  -1090.24 	30.65  -36.94  -1090.55
...
-18.47  -16.86  -1039.01  	-18.87  17.24  -1062.8101  -35.91  -21.77  -1054.5601   -1.56  -20.3  -1059.67 		-17.22  -34.31  -1057.76
1.43  -9.96  -960.29 		0.01  30.53  -981.63 	   -14.6  -11.63  -982.81 	14.54  -11.58  -977.91 		1.46  -21.75  -979.4
-6.93  -56.67  -930.83 		-7.42  -24.77  -942.61 	   -23.98  -61.84  -947.45 	7.06  -62.82  -948.2 		-5.63  -74.38  -945.99
-15.32  -7.63  -1033.66 	-18.32  36.09  -1063.8101  -30.57  -13.95  -1050.49 	1.56  -10.87  -1053.05 		-14  -23.25  -1050.55
-24.19  -4.91  -1114.86 	-25.69  34.59  -1139.36    -43.37  -11.63  -1130.27 	-5  -13.29  -1130.8 		-23.28  -21.03  -1126.75
...
33.07  36.81  -1075.15      31.91  71.51  -1102.98      15.82  31.51  -1094           47.4  29.51  -1092.3199     31.59  19.67  -1092.21
-12.77  -4.65  -1203.97     -13.04  40.43  -1231.84      -27.28  -10.01  -1219.6899   0.01  -11.43  -1219.28      -12.93  -25.76  -1220.76
4.7  -33.91  -983.75        4.75  1.19  -995.85           -11.99  -35.84  -1006.92    21.59  -37.02  -1006.62       4.81  -53.79  -1007.72
-7.57  -36.47  -1063.67     -10.27  2.56   -1082.89       -19.08  -41.81  -1072.4     3.83  -43.17  -1074.78     -7.64  -53.31  -1074.4
-12.36  7.7  -1043.4399     -12.62  33.01  -1066.48       -26.52  1.56  -1053.77       3.14  -1.56  -1061.14     -12.47  -7.76  -1053.71
...
88.2873  161.8979  169.4218     84.6531  199.8892  145.7927     68.604  157.1626  155.5626   102.6338  157.7041  155.6608    84.7495  149.0879  154.6848
86.0013  151.6379  168.6846     82.9156  191.7361  145.799       65.7038  147.2246  154.572  100.3298  148.4941  154.7522   82.437  140.4423  154.0794      
85.3878  154.068  163.0617      85.1776  187.5216  136.8242      64.9824  146.9319  148.1383    100.3587  148.0834  146.7971  84.7027  141.6836  148.6014
102.5394  108.8617  127.5187    100.5313  144.8703  99.3815      84.9998  107.1533  111.2451     114.7851  105.3149  110.113    101.0811  94.5725  108.392
95.1128  83.6822  125.4863      95.7221  124.4248  107.2076     80.2119  80.9194  110.1602      107.5923  83.3563  113.703     95.6993  72.4839  108.2853
];

%punkty na nosie grupami:
prns    = nosePts(:,[1 2 3]);
ns      = nosePts(:,[4 5 6]);
lals    = nosePts(:,[7 8 9]);
rals    = nosePts(:,[10 11 12]);
sns     = nosePts(:,[13 14 15]);

%[1 3:15]
%[16 17 19 20]
for fileNo = 1: 20
    
    %ustawienie parametrów:
    fileName = char( fileNames{fileNo} );
    %%{
    prn     = prns(fileNo,:);
    n       = ns(fileNo,:);
    lal     = lals(fileNo,:);
    ral     = rals(fileNo,:);
    sn      = sns(fileNo,:);
    %%}
    
    % wykonanie analizy:
    try        
        close gcf;
        analyseFileTest;
    catch e
        fprintf('[Blad]: %s\n', e.message);
        %rethrow(e)
    end;   
    
end; %for

